#
# RUN: fab --print-dag --format=ninja --output=%t %s
# RUN: FileCheck %s -input-file %t/build.ninja
#

# CHECK-DAG: rule tools.cc
# CHECK-NEXT-TODO: command = cc -c ${in} -o ${out}
tools = import('Inputs/tools.fab');

# CHECK-DAG: rule cc
# CHECK-NEXT-TODO: command = cc -c ${in} -o ${out}
cc = tools.cc;

# CHECK-DAG: build foo : phony ${buildroot}/foo.o
# CHECK-DAG: build ${buildroot}/foo.o: tools.cc ${srcroot}/foo.c
foo = cc(file('foo.c'), file('foo.o'));

# CHECK-DAG: build bar : phony ${buildroot}/bar.o
# CHECK-DAG: build ${buildroot}/bar.o: tools.cc ${srcroot}/bar.c
bar = tools.cc(file('bar.c'), file('bar.o'));
