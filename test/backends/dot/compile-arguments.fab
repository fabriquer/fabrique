#
# RUN: fab --format=dot --output=%t %s
# RUN: FileCheck %s -input-file %t
#

lex = action('$LEX -c++ --yyclass=$classname --outfile=$out $in'
              <- classname:string);

# CHECK-DAG: "foo.yy" -> "lex { foo.yy => foo.c }{{.*}}";
# CHECK-DAG: "lex { foo.yy => foo.c }{{.*}}" -> "foo.c";
gen = lex(files(foo.yy), files(foo.c), classname = 'FooClass');
