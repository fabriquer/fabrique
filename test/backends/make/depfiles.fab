#
# RUN: fab --format=gmake --output=%t %s
# RUN: FileCheck %s -input-file %t/GNUmakefile
#

cc = action('cc -c ${source} -o ${object} -MD -MF ${object}.d', depfile = '${object}.d'
             <- source:file[in], object:file[out], deps:string = 'gcc');

# CHECK: ${buildroot}/foo.o : ${srcroot}/Inputs/foo.c
# CHECK:   cc -c ${srcroot}/Inputs/foo.c -o ${buildroot}/foo.o -MD -MF ${buildroot}/foo.o.d
# CHECK: -include ${buildroot}/foo.o.d
foo = cc(file('Inputs/foo.c'), file('foo.o'));
