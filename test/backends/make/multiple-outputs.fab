#
# RUN: fab --format=make --output=%t %s
# RUN: FileCheck %s -input-file %t/Makefile
#

lex = action('${LEX} -c++ --header-file=${header} --outfile=${out} ${in}'
              <- in:file[in], out:file[out], header:file[out]);

# CHECK: ${buildroot}/foo.h ${buildroot}/foo.c : ${srcroot}/foo.yy
# CHECK-NEXT: echo "${LEX}
# CHECK-NEXT: ${LEX} -c++ --header-file=${buildroot}/foo.h --outfile=${buildroot}/foo.c ${srcroot}/foo.yy
gen = lex(file('foo.yy'), file('foo.c'), header = file('foo.h'));
