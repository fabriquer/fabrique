#
# RUN: fab --print-dag --format=null %s > %t
# RUN: FileCheck %s -input-file %t
#

# CHECK-DAG: (file)=>file lex = $LEX -c++ --yyclass=$classname --outfile=$out $in
lex = action('$LEX -c++ --yyclass=$classname --outfile=$out $in'
             <- in:file, out:file, classname:string);

# CHECK-DAG: build: lex { foo.yy => foo.c }( classname = 'FooClass' )
# CHECK-DAG: file gen = foo.c
gen = lex(file('foo.yy'), file('foo.c'), classname = 'FooClass');
