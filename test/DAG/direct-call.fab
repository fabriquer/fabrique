#
# RUN: %fab --format=null --print-dag %s > %t
# RUN: FileCheck %s -input-file %t
#

# CHECK-DAG: int foo = 2
foo = (function(x:int) { x + 1 })(1);

# CHECK-DAG: file src = foo.c
src = file('foo.c');

# CHECK-DAG: file obj = foo.o
obj = file('foo.o');

# CHECK-DAG: build: bar { foo.c => foo.o }
bar = action('${CC} -c ${src} -o ${obj}' <- src:file[in], obj:file[out])(src, obj);
