#
# RUN: fab --print-dag --format=null %s > %t
# RUN: FileCheck %s -input-file %t
#

# CHECK-DAG: file src = Inputs/foo.c
src = file('Inputs/foo.c');

# CHECK-DAG: rule cc = cc -c -D $foo $in -o $out
cc = action('cc -c -D $foo $in -o $out' <- foo:string);

# CHECK-DAG: build obj = cc { Inputs/foo.c => foo.o }( foo = 'SOME_DEFINITION' )
obj = cc(src, out = file('foo.o'), foo = 'SOME_DEFINITION');
