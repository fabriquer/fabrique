#
# RUN: fab --parse-only --print-ast %s > %t
# RUN: FileCheck %s -input-file %t
#

# CHECK: src:file = file('Inputs/foo.c');
src = file('Inputs/foo.c');

# CHECK: cc:(list[file])=>list[file] =
# CHECK:   action('cc -c $in -o $out' <- in:list[file], out:list[file]);
cc = action('cc -c $in -o $out');

# CHECK: link:(list[file])=>list[file] =
# CHECK:   action('cc $in -o $out' <- in:list[file], out:list[file]);
link = action('cc $in -o $out');

# CHECK: obj:file = cc(src, file('foo.o'));
obj = cc(src, file('foo.o'));

# CHECK: bin:file = link(obj, file('foo'));
bin = link(obj, file('foo'));
