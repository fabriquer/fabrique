#
# RUN: fab --parse-only --print-ast %s > %t
# RUN: FileCheck %s -input-file %t
#

# CHECK: src:file = file('Inputs/foo.c');
src = file('Inputs/foo.c');

# CHECK: cc:(file)=>file =
# CHECK:   action('cc -c $in -o $out' <- in:file, out:file);
cc = action('cc -c $in -o $out' <- in:file, out:file);

# CHECK: link:(file)=>file =
# CHECK:   action('cc $in -o $out' <- in:file, out:file);
link = action('cc $in -o $out' <- in:file, out:file);

# CHECK: obj:file = cc(src, file('foo.o'));
obj = cc(src, file('foo.o'));

# CHECK: bin:file = link(obj, file('foo'));
bin = link(obj, file('foo'));
