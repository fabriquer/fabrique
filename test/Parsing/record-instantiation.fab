#
# RUN: %fab --parse-only --print-ast %s > %t
# RUN: FileCheck %s -input-file %t
#

# CHECK: foo:record[foo:string, bar:string] = record
# CHECK-NEXT: {
# CHECK-DAG:   foo:string = 'hi';
# CHECK-DAG:   bar:string = 'world';
foo = record { foo = 'hi'; bar = 'world'; };

# CHECK: bar:string = foo.bar;
bar = foo.bar;

# CHECK: self_referential:record[def:string, ref:string] = record
# CHECK: {
self_referential = record
{
	# CHECK: def:string = 'Hello, world!';
	def = 'Hello, world!';

	# CHECK: ref:string = def;
	ref = def;
};
