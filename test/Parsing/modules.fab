#
# RUN: fab --parse-only --print-ast %s > %t
# RUN: FileCheck %s -input-file %t
#

# CHECK: submodule:struct[foo:string, bar:(file)=>file, baz:(int)=>int,
# CHECK:                  wibble:(int)=>int, subsubimport:struct[test:string]]
# CHECK:   = import('Inputs/submodule.fab');
submodule = import('Inputs/submodule.fab');

# CHECK: foo:string = submodule.foo;
foo = submodule.foo;

# CHECK: bar:(file)=>file = submodule.bar;
bar:(file)=>file = submodule.bar;

# CHECK: my_baz:(int)=>int = submodule.baz;
my_baz = submodule.baz;

# CHECK: bazzed:int = import('Inputs/submodule.fab').baz(1);
bazzed = import('Inputs/submodule.fab').baz(1);

# CHECK-DAG: wibbled:int = submodule.wibble(1);
wibbled = submodule.wibble(1);
