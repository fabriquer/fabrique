#
# RUN: fab --parse-only --print-ast %s > %t
# RUN: FileCheck %s -input-file %t
#

# CHECK: foo:(list[int])=>list[int] = function(ints:list[int]): list[int]
# CHECK-NEXT: {
# CHECK-NEXT:   local_var:int = 42;
# CHECK-NEXT:   foreach x:int <- ints
# CHECK-NEXT:   {
# CHECK-NEXT:     y:int = x + local_var;
# CHECK-NEXT:     y + 1
# CHECK-NEXT:   }
# CHECK-NEXT: }
foo = function(ints:list[int]): list[int]
{
	local_var = 42;

	foreach x <- ints
	{
		y = x + local_var;
		y + 1
	}
};

# CHECK: bar:(list[string])=>list[file] = function(names:list[string]): list[file]
# CHECK-NEXT: {
# CHECK-NEXT:   foreach name:string <- names
# CHECK-NEXT:   {
# CHECK-NEXT:     file(name)
# CHECK-NEXT:   }
# CHECK-NEXT: }
bar = function(names:list[string]): list[file]
	foreach name <- names
		file(name);
