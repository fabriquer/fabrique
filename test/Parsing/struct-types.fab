#
# RUN: fab --parse-only --print-ast %s > %t
# RUN: FileCheck %s -input-file %t
#

# CHECK: foo:struct[foo:string, bar:string] = struct
# CHECK-NEXT: {
# CHECK-DAG:   foo:string = 'hi';
# CHECK-DAG:   bar:string = 'world';
foo:struct[foo:string, bar:string] = struct { foo = 'hi'; bar = 'world'; };

# CHECK: bar:string = foo.bar;
bar = foo.bar;

# CHECK: self_referential:struct[def:string, ref:string] = struct
# CHECK: {
self_referential:struct[def:string, ref:string] = struct
{
	# CHECK: def:string = 'Hello, world!';
	def = 'Hello, world!';

	# CHECK: ref:string = def;
	ref = def;
};
