# RUN: %fab --debug='lex.*' --parse-only %s > %t
# RUN: FileCheck %s -input-file %t

#
# this is a comment
# CHECK: lexed comment: '# this is a comment' @ %s:5:1-19
#

foo = 'hello';
# CHECK: lexed token: 'foo' @ %s:9:1-3
# CHECK: parsed identifier: foo @ %s:9:1-3
# CHECK: lexed token: '=' @ %s:9:5
# CHECK: parsed expression: 'hello' @ %s:12:7-13
# CHECK: lexed token: ';' @ %s:12:14

bar = 'world';
# CHECK: lexed token: 'foo' @ %s:14:1-3
# CHECK: parsed identifier: foo @ %s:14:1-3
# CHECK: lexed token: '=' @ %s:14:5

baz = true;
# CHECK: lexed token: 'foo' @ %s:9:1-3
# CHECK: parsed identifier: foo @ %s:9:1-3
# CHECK: lexed token: '=' @ %s:9:5

# CHECK: parsed identifier: ints:list[int] @ %s:27:16-30
# CHECK: parsed expression: ints:list[int] @ %s:27:16-30
wibble = function(ints:list[int]): list[int]
{
	foreach x <- ints
	{
		x + 1
	}
};
