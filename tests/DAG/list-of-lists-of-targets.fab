#
# RUN: %fab --format=null --print-dag %s > %t
# RUN: FileCheck %s -input-file %t
#
# XFAIL: *
#

cc = action('cc -c ${src} -o ${obj}' <- src:file[in], obj:file[out]);

srcs = files(hello.c world.c);
objs = foreach src <- srcs
	cc(src, obj = src + '.o')
	;

# CHECK-DAG: build all : phony {{.*}}hello.c.o world.c.o
all:list[list[file]] = [ srcs objs ];
