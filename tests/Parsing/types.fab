#
# RUN: %fab --parse-only --print-ast %s > %t
# RUN: FileCheck %s -input-file %t
#

# CHECK: foo:type = type[];
foo = type[];

# CHECK: bar:type = type[x:int, y:string, z:record[wibble:int]];
bar = type[x:int, y:string, z:record[wibble:int]];

# CHECK: my_foo:record = record
# CHECK-NEXT: {
# CHECK-NEXT:   x:string = 'anything at all';
# CHECK-NEXT: };
my_foo:foo = record { x = 'anything at all'; };

# CHECK: baz:record[x:int, y:string, z:record[wibble:int]] = record
# CHECK-NEXT: {
# CHECK-NEXT:   x:int = 42;
# CHECK-NEXT:   y:string = 'hello';
# CHECK-NEXT:   z:record[wibble:int] =
baz:bar = record { x = 42; y = 'hello'; z = record { wibble = -1; }; };
