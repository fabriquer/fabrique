#
# RUN: %fab --parse-only --print-ast %s > %t
# RUN: FileCheck %s -input-file %t
#

# CHECK: foo = record[];
foo = record[];

# CHECK: bar = record[x:int, y:string, z:record[wibble:int]];
bar = record[x:int, y:string, z:record[wibble:int]];

# CHECK: my_foo:foo = record
# CHECK-NEXT: {
# CHECK-NEXT:   x = 'anything at all';
# CHECK-NEXT: };
my_foo:foo = record { x = 'anything at all'; };

# CHECK: duck_typed_foo:record[] = record
# CHECK-NEXT: {
# CHECK-NEXT:   x = 'absolutely anything';
# CHECK-NEXT: };
duck_typed_foo:record[] = record { x = 'absolutely anything'; };

# CHECK: baz:bar = record
# CHECK-NEXT: {
# CHECK-NEXT:   x = 42;
# CHECK-NEXT:   y = 'hello';
# CHECK-NEXT:   z =
baz:bar = record { x = 42; y = 'hello'; z = record { wibble = -1; }; };
